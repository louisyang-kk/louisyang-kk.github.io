<!DOCTYPE html>
<html>
  <body>
    <!-- 1. The <iframe> (and chatroom) will replace this <div> tag. -->
    <div id="chatroom"></div>

    <script>
      // 2. This code loads the iframe chatroom API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://mgk.straas.net/sdk/1.7.1/iframe-sdk.js";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and StraaS Chatroom)
      //    after the API code downloads.
      var chatroom;
      function onStraaSChatroomIframeReady() {
        chatroom = new StraaSChatroom.Chatroom('chatroom', {
          accountId: 'kkstream.com',
          showOnlineUserThreshold: 1,
          showMessageSource: true,
          chatroomName: 'PTYEvfmFHYxdiYJ6NJG',
          memberToken: null,
          straasSupport: false,
          language: 'jp',
          height: '390',
          width: '640',
          events: {
            'onReady': onChatroomReady,
          },          
          secureMode: false 
        })
      }

      // 4. The API will call this function when the chatroom is ready.
      function onChatroomReady() {
         console.log('chatroom is ready')
      }

    </script>
  </body>
</html>
